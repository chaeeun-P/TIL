# 통계학 7주차 정규과제

📌통계학 정규과제는 매주 정해진 분량의 『*데이터 분석가가 반드시 알아야 할 모든 것*』 을 읽고 학습하는 것입니다. 이번 주는 아래의 **Statistics_7th_TIL**에 나열된 분량을 읽고 `학습 목표`에 맞게 공부하시면 됩니다.

아래의 문제를 풀어보며 학습 내용을 점검하세요. 문제를 해결하는 과정에서 개념을 스스로 정리하고, 필요한 경우 추가자료와 교재를 다시 참고하여 보완하는 것이 좋습니다.

7주차는 `3부. 데이터 분석하기`를 읽고 새롭게 배운 내용을 정리해주시면 됩니다.


## Statistics_7th_TIL

### 3부. 데이터 분석하기
### 13.머신러닝 분석 방법론
### 14.모델 평가



## Study Schedule

|주차 | 공부 범위     | 완료 여부 |
|----|----------------|----------|
|1주차| 1부 p.2~56     | ✅      |
|2주차| 1부 p.57~79    | ✅      | 
|3주차| 2부 p.82~120   | ✅      | 
|4주차| 2부 p.121~202  | ✅      | 
|5주차| 2부 p.203~254  | ✅      | 
|6주차| 3부 p.300~356  | ✅      | 
|7주차| 3부 p.357~615  | ✅      | 

<!-- 여기까진 그대로 둬 주세요-->

# 13.머신러닝 분석 방법론

```
✅ 학습 목표 :
* 선형 회귀와 다항 회귀를 비교하고, 데이터를 활용하여 적절한 회귀 모델을 구축할 수 있다. 
* 로지스틱 회귀 분석의 개념과 오즈(Odds)의 의미를 설명하고, 분류 문제에 적용할 수 있다.
* k-means 알고리즘의 원리를 설명하고, 적절한 군집 개수를 결정하여 데이터를 군집화할 수 있다.
```

## 13.1. 선형 회귀분석과 Elastic Net(예측모델)
### 13.1.1 회귀분석의 기원과 원리
---
- X, Y 좌표에 산점도를 찍어, **X와 Y의 관계를 가장 잘 나타낼 수 있는 직선을 찾는 것**  
    - X (독립변수) 의 평균값을 통해 Y (종속변수) 값을 예측하는 것 
- **종속변수 Y의 값에 영향을 주는 독립변수 X들의 조건을 고려해 구한 평균값**  
    ![사진](/images/스크린샷%202025-06-03%20223354.png)  
    - 예측치와 관측치 간의 차이 최소화를 위해 잔차제곱합, 최대우도추정법 사용 
- 선형회귀 사용 조건  
    - 다중 회귀 분석 시 다중공선성 확인 필요  
    ![사진](/images/스크린샷%202025-06-03%20233650.png)  
    - 비선형관계일 경우 변수를 구간화하여 이항변수로 표시된 몇 개의 더미변수로 변환해 분석 -> 안 심하면 로그함수로 치환 

### 13.1.2 다항회귀
- 독립변수와 종속변수의 관계가 곡선형 관계일 때 변수에 각 특성의 제곱을 추가하여 회귀선을 곡선형으로 변환하는 모델 
    - 차수가 커지면 *편항* 감소, *변동성* 증가 

## 13.2. 로지스틱 회귀분석 (분류모델)
- 선형회귀분석과 유사 BUT 종속 변수가 질적척도임 
- 수치 예측 x 카테고리 분류 
- 오즈 : 사건이 발생할 가능성이 발생하지 않을 가능성보다 어느 정도 큰지를 나타내는 값

## 13.3. decision tree
- 지니 계수, 엔트로피 활용하여 독립변수와 분류기준값 채택 
- 분류나무 (카테고리 분류) / 회귀나무 (종속 변수가 연속형 변수 -> 잔차 제곱합 사용 / 끝 노드의 데이터 값의 평균을 구해 회귀 예측값 계산)
- 학습한 데이터에 대해서만 예측 가능 (e.g. A, B 중 B 만 학습 -> A라는 값을 못 냄) 
- 가지치기, 임계값, 노드의 최소 데이터 수 제한, 최대 깊이 제한 -> 과적합 방지 

## 13.8. k-means 클러스터링(클러스터링) 
- knn 과 비슷하지만, knn 은 지도 학습 / k-means 는 비지도 학습 
- 각 중심점과 관측치들 간의 거리 최소화 되도록 재정의 
- K값 정하기
    - 비즈니스 도메인 지식을 통한 개수 선정
    - 엘보우 기법 
    - 실루엣 계수 
- 밀도 기반의 원리를 이용한 클러스터링 기법 : DBSCAN 
    - K값 지정 필요 X 

# 14. 모델 평가

```
✅ 학습 목표 :
* 유의확률(p-value)을 해석할 때 주의할 점을 설명할 수 있다.
* 분석가가 올바른 주관적 판단을 위한 필수 요소를 식별할 수 있다.
```

## 14.3. 회귀성능 평가지표
### R-square  과 Adjusted R-square
- R-square : 모델의 독립변수들이 종속변수를 설명할 수 있는 설명력 (== 회귀모델의 회귀선이 종속변수 값을 얼마나 잘 설명하는가?)
    - SSR 값이 클 수록, SST 값이 작을 수록 큼 
### RMSE 
- 실제 수치와 예측한 수치와의 차이를 나타냄 
- 스케일에 영향 -> 데이터가 다르면 비교 불가 
### MAE 
- 직관적으로 예측값 차이 비교 가능 
- RMSE 에 절댓값 -> 절대적인 값 비교 가능 
### MAPE 
- MAE 를 퍼센트로 변환 
    - 0에 가까울 수록 우수한 모델 
    - 0은 측정 불가 ~
### RMSLE 
- 상대적인 비율 비교가 가능하며, RMSE 보다 이상치에 덜 민감 -> 이상치 존재할 경우 적당한 방식 
### AIC, BIC 
- 모델의 정확도와 함께 독립변수가 많고 적음까지 따져서 우수한 모델을 선택할 수 있게 하는 평가 방법 
- AIC : 적정한 변수 개수 찾는 데에 유용 
- BIC 는 AIC 보다 페널티 강하게 부여 

## 14.6. 유의확률의 함정
- P값은 표본의 크기가 커지면 0으로 수렴하는 특성... -> 표본이 커질 수록 p값도 작아짐 
    - 표본의 크기에 따라 같은 데이터더라도 p값이 달라질 수 있어...!
- 0.05 은 절대적인 기준이 X 

## 14.7. 분석가의 주관적 판단과 스토리텔링
- 인사이트와 결정적 판단이 매우 중요! 
-  분석한 결과대로 행동했을 때 종속변수가 어떻게 반응할 것인가를 고민해야 함 
    - 데이터는 객관적인 데이터가 아닐 수도 X (심리 같은 거 못 답아내니까...) 
    - 의심하고 또 의심해 ~ 김주영st... 
- 데분의 필수 요소  
    ![사진](/images/스크린샷%202025-06-03%20232212.png)
- 전달 효과가 큰 스토리텔링 구조 : 배경 -> 문제 -> 극복 -> 변화 
    - 전체적인 내용을 한 문장으로 표현해야 함!  
    ![사진](/images/스크린샷%202025-06-03%20232149.png)


<br>
<br>

# 확인 문제

## **문제 1. 선형 회귀**

> **🧚 칼 피어슨의 아버지와 아들의 키 연구 결과를 바탕으로, 다음 선형 회귀식을 해석하세요.**  
> 칼 피어슨(Karl Pearson)은 아버지(X)와 아들(Y)의 키를 조사한 결과를 바탕으로 아래와 같은 선형 회귀식을 도출하였습니다. 아래의 선형 회귀식을 보고 기울기의 의미를 설명하세요. 
>  
> **ŷ = 33.73 + 0.516X**  
>   
> - **X**: 아버지의 키 (cm)  
> - **ŷ**: 아들의 예상 키 (cm)  

```
독립변수가 종속변수에 미치는 영향  
-> 아버지의 키가 1cm 클 수록 아들의 키가 0.516cm 커짐 ~  
```
---

## **문제 2. 로지스틱 회귀**  

> **🧚 다트비에서는 학생의 학업 성취도를 예측하기 위해 다항 로지스틱 회귀 분석을 수행하였습니다. 학업 성취도(Y)는 ‘낮음’, ‘보통’, ‘높음’ 3가지 범주로 구분되며, 독립 변수는 주당 공부 시간(Study Hours)과 출석률(Attendance Rate)입니다. 단, 기준범주는 '낮음' 입니다.**   

| 변수 | Odds Ratio Estimates | 95% Wald Confidence Limits |  
|------|----------------------|--------------------------|  
| Study Hours | **2.34** | (1.89, 2.88) |  
| Attendance Rate | **3.87** | (2.92, 5.13) |  

> 🔍 Q1. Odds Ratio Estimates(오즈비, OR)의 의미를 해석하세요.

<!--변수 Study Hours의 오즈비 값이 2.34라는 것과 Attendance Rate의 오즈비 값이 3.87이라는 것이 각각 무엇을 의미하는지 구체적으로 생각해보세요.-->

```
변수가 1단위 증가할 때, 결과의 발생 가능성이 몇 배로 변하는지에 대한 값으로, 
공부 시간이 1시간 늘면 합격 가능성이 약 2.34배 높아지고 출석률이 1%p 오를 때 합격 가능성이 약 3.87배 높아짐 
```

> 🔍 Q2. 95% Wald Confidence Limits의 의미를 설명하세요.
<!--각 변수의 신뢰구간에 제시된 수치가 의미하는 바를 생각해보세요.-->

```
오즈비가 이 구간 안에 있을 확률이 95%이다는 통계적 추정 범위임!  
오즈비는 표본의 추정값이므로, 표본의 불확실성을 고려하면 진짜 오즈비는 1.89에서 2.88 or 2.92에서 5.13 사이일 가능성이 95% 라는 뜻 
```

> 🔍 Q3. 이 분석을 기반으로 학업 성취도를 향상시키기 위한 전략을 제안하세요.
<!--Study Hours와 Attendance Rate 중 어느 변수가 학업 성취도에 더 큰 영향을 미치는지를 고려하여, 학업 성취도를 향상시키기 위한 효과적인 전략을 구체적으로 제시해보세요.-->

```
오즈비가 출석율이 더 높으므로, 학업 성취에 출석율의 영향이 더 높음 -> 출석율을 높일 수 있는 방안을 고려해 보아야 함 
```

---


## **문제 3. k-means 클러스터링**

> **🧚 선교는 고객을 유사한 그룹으로 분류하기 위해 k-means 클러스터링을 적용했습니다. 초기에는 3개의 군집으로 설정했지만, 결과가 만족스럽지 않았습니다. 선교가 최적의 군집 수를 찾기 위해 사용할 수 있는 방법을 한 가지 이상 제시하고 설명하세요.**

```
엘보우, 실루엣 지표 
```

### 🎉 수고하셨습니다.